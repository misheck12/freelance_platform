<div class="bg-gray-100 min-h-screen p-8">
  <div class="max-w-5xl mx-auto bg-white p-6 rounded-lg shadow-md">
    <h1 class="text-3xl font-bold mb-6">Welcome, <%= current_user.email %>!</h1>

    <% if current_user.admin? %>
      <!-- Admin Dashboard Content -->
      <div class="mb-6">
        <h2 class="text-2xl font-semibold mb-4">Admin Dashboard</h2>
        <p class="mb-4">
          Total Tasks: <span class="font-bold"><%= Task.count %></span><br>
          Total Clients: <span class="font-bold"><%= User.client.count %></span><br>
          Total Freelancers: <span class="font-bold"><%= User.freelancer.count %></span>
        </p>
        
        <h3 class="text-xl font-semibold mb-2">All Tasks</h3>
        <ul class="list-disc pl-5 mb-4">
          <% Task.all.each do |task| %>
            <li class="mb-2">
              <%= link_to task.title, task_path(task), class: "text-blue-500 hover:underline" %> - 
              <span>Status: <%= task.status %></span>
            </li>
          <% end %>
        </ul>
        
        <h3 class="text-xl font-semibold mb-2">All Reviews</h3>
        <ul class="list-disc pl-5">
          <% Review.all.each do |review| %>
            <li class="mb-2">
              Review for <%= link_to review.task.title, task_path(review.task), class: "text-blue-500 hover:underline" %>: 
              <span class="font-bold"><%= review.rating %></span> stars - <%= review.comment %>
            </li>
          <% end %>
        </ul>
      </div>

    <% elsif current_user.client? %>
      <!-- Client Dashboard Content -->
      <div class="mb-6">
        <h2 class="text-2xl font-semibold mb-4">Client Dashboard</h2>
        <%= link_to 'Create New Task', new_task_path, class: "inline-block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mb-4" %>
        
        <h3 class="text-xl font-semibold mb-2">Your Tasks</h3>
        <ul class="list-disc pl-5 mb-4">
          <% current_user.tasks_as_client.each do |task| %>
            <li class="mb-2">
              <%= link_to task.title, task_path(task), class: "text-blue-500 hover:underline" %> - 
              <span>Status: <%= task.status %></span>
            </li>
          <% end %>
        </ul>
        
        <h3 class="text-xl font-semibold mb-2">Your Reviews</h3>
        <ul class="list-disc pl-5">
          <% current_user.reviews.each do |review| %>
            <li class="mb-2">
              Review for <%= link_to review.task.title, task_path(review.task), class: "text-blue-500 hover:underline" %>: 
              <span class="font-bold"><%= review.rating %></span> stars - <%= review.comment %>
            </li>
          <% end %>
        </ul>
      </div>

    <% elsif current_user.freelancer? %>
      <!-- Freelancer Dashboard Content -->
      <div class="mb-6">
        <h2 class="text-2xl font-semibold mb-4">Freelancer Dashboard</h2>
        
        <h3 class="text-xl font-semibold mb-2">Available Tasks</h3>
        <ul class="list-disc pl-5 mb-4">
          <% Task.open_tasks.each do |task| %>
            <li class="mb-2">
              <%= link_to task.title, task_path(task), class: "text-blue-500 hover:underline" %>
            </li>
          <% end %>
        </ul>
        
        <h3 class="text-xl font-semibold mb-2">Tasks You're Working On</h3>
        <ul class="list-disc pl-5 mb-4">
          <% current_user.tasks_as_freelancer.each do |task| %>
            <li class="mb-2">
              <%= link_to task.title, task_path(task), class: "text-blue-500 hover:underline" %>
            </li>
          <% end %>
        </ul>
        
        <h3 class="text-xl font-semibold mb-2">Your Reviews</h3>
        <ul class="list-disc pl-5">
          <% current_user.reviews.each do |review| %>
            <li class="mb-2">
              Review for <%= link_to review.task.title, task_path(review.task), class: "text-blue-500 hover:underline" %>: 
              <span class="font-bold"><%= review.rating %></span> stars - <%= review.comment %>
            </li>
          <% end %>
        </ul>
      </div>
    <% end %>
  </div>
</div>
