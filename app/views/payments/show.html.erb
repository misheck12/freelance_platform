<!-- app/views/payments/show.html.erb -->

<div class="payment-details">
  <h1 class="display-4">Payment Details</h1>

  <div class="card">
    <div class="card-body">
      <p class="card-text">
        <strong>Transaction ID:</strong> <%= @payment.transaction_id %><br>
        <strong>Status:</strong> <%= @payment.status.capitalize %><br>
        <strong>Created At:</strong> <%= @payment.created_at.strftime("%B %d, %Y %H:%M:%S") %><br>
        <strong>Updated At:</strong> <%= @payment.updated_at.strftime("%B %d, %Y %H:%M:%S") %><br>
      </p>

      <!-- Display associated task details -->
      <h2 class="display-5 mt-4">Associated Task</h2>
      <p class="card-text">
        <strong>Title:</strong> <%= @payment.task.title %><br>
        <strong>Description:</strong> <%= @payment.task.description %><br>
        <strong>Budget:</strong> <%= number_to_currency(@payment.task.budget) %><br>
        <strong>Deadline:</strong> <%= @payment.task.deadline.strftime("%B %d, %Y") %><br>
        <!-- Add more task details as needed -->
      </p>

      <!-- Display associated client details -->
      <h2 class="display-5 mt-4">Client Information</h2>
      <p class="card-text">
        <% if @payment.client.present? %>
          <strong>Name:</strong> <%= @payment.client.name %><br>
          <strong>Email:</strong> <%= @payment.client.email %><br>
          <!-- Add more client details as needed -->
        <% else %>
          <strong>No associated client information.</strong>
        <% end %>
      </p>

      <!-- Display payment proof if attached -->
      <% if @payment.payment_proof.attached? %>
        <h2 class="display-5 mt-4">Payment Proof</h2>
        <p class="card-text">
          <%= image_tag rails_blob_path(@payment.payment_proof, only_path: true), class: 'img-fluid', alt: 'Payment Proof' %>
        </p>
      <% end %>

      <%= link_to 'Back to Payments', payments_path, class: 'btn btn-secondary mt-2' %>
    </div>
  </div>
</div>
